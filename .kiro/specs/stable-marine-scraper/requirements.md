# Requirements Document

## Introduction

안정적이고 강력한 관상용 해수어 이미지 스크래핑 시스템을 개발합니다. 이 시스템은 여러 소스에서 대량의 이미지를 수집하고, 체계적으로 분류하며, 머신러닝 훈련을 위한 데이터셋을 생성합니다. 파일 손상 문제를 방지하기 위해 모듈화된 구조와 에러 처리를 강화합니다.

## Requirements

### Requirement 1

**User Story:** 개발자로서, 여러 소스에서 해수어 이미지를 대량으로 수집하고 싶습니다. 그래야 충분한 훈련 데이터를 확보할 수 있습니다.

#### Acceptance Criteria

1. WHEN 사용자가 전체 스크래핑을 실행하면 THEN 시스템은 FishBase, Google Images, Reef2Reef, Flickr에서 이미지를 수집해야 합니다
2. WHEN 각 종에 대해 스크래핑하면 THEN 시스템은 종당 최소 500장 이상의 이미지를 수집해야 합니다
3. WHEN 이미지를 다운로드하면 THEN 시스템은 중복 이미지를 자동으로 제거해야 합니다
4. WHEN 네트워크 오류가 발생하면 THEN 시스템은 자동으로 재시도하고 다음 소스로 넘어가야 합니다

### Requirement 2

**User Story:** 사용자로서, 수집된 이미지가 체계적으로 분류되기를 원합니다. 그래야 나중에 쉽게 찾고 관리할 수 있습니다.

#### Acceptance Criteria

1. WHEN 이미지가 다운로드되면 THEN 시스템은 분류학적 계층구조(Class/Order/Family/Genus_Species)에 따라 폴더를 생성해야 합니다
2. WHEN 파일을 저장하면 THEN 시스템은 소스, 종명, 순번이 포함된 명명 규칙을 사용해야 합니다
3. WHEN 폴더 구조를 생성하면 THEN 시스템은 기존 폴더와 파일을 보존해야 합니다

### Requirement 3

**User Story:** 연구자로서, 머신러닝 훈련을 위한 균형잡힌 데이터셋을 생성하고 싶습니다. 그래야 모델의 성능을 최적화할 수 있습니다.

#### Acceptance Criteria

1. WHEN 훈련 데이터셋을 생성하면 THEN 시스템은 각 클래스에서 동일한 수의 이미지를 랜덤 샘플링해야 합니다
2. WHEN 이미지를 선택하면 THEN 시스템은 다양한 종에서 고르게 선택해야 합니다
3. WHEN 데이터셋을 생성하면 THEN 시스템은 train 폴더에 클래스별로 정리해야 합니다

### Requirement 4

**User Story:** 사용자로서, 수집된 데이터의 통계와 분석 정보를 보고 싶습니다. 그래야 데이터의 품질과 분포를 파악할 수 있습니다.

#### Acceptance Criteria

1. WHEN 분석을 실행하면 THEN 시스템은 클래스별, 과별, 종별 이미지 수를 표시해야 합니다
2. WHEN 통계를 출력하면 THEN 시스템은 전체 이미지 수, 종 수, 평균 이미지 수를 계산해야 합니다
3. WHEN 데이터 품질을 확인하면 THEN 시스템은 파일 크기, 해상도 등의 정보를 제공해야 합니다

### Requirement 5

**User Story:** 개발자로서, 코드가 안정적이고 유지보수가 쉽기를 원합니다. 그래야 파일 손상이나 오류 없이 지속적으로 사용할 수 있습니다.

#### Acceptance Criteria

1. WHEN 코드를 실행하면 THEN 시스템은 모든 예외를 적절히 처리해야 합니다
2. WHEN 파일 작업을 수행하면 THEN 시스템은 파일 무결성을 보장해야 합니다
3. WHEN 모듈을 분리하면 THEN 각 모듈은 독립적으로 테스트 가능해야 합니다
4. WHEN 설정을 변경하면 THEN 시스템은 설정 파일을 통해 쉽게 조정 가능해야 합니다